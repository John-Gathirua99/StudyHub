{% extends 'content/base.html' %}
{% load custom_filters %}

{% block content %}
  <div class="container mx-auto px-4 py-6">
    <h2 class="text-2xl font-semibold text-gray-800 mb-6 border-b pb-2">üóìÔ∏è Class Timetable</h2>

    <div class="overflow-x-auto">
      <table class="table-auto w-full text-left border border-gray-300 shadow-sm">
        <thead class="bg-gray-100">
          <tr>
            <th class="px-4 py-2 border border-gray-300 font-semibold">Time Slot</th>
            {% for day in days %}
              <th class="px-4 py-2 border border-gray-300 font-semibold">{{ day }}</th>
            {% endfor %}
          </tr>
        </thead>
        <tbody>
          {% for time_slot in time_slots %}
            <tr class="{% cycle 'bg-white' 'bg-gray-50' %}">
              <td class="px-4 py-2 border border-gray-300 font-medium text-gray-700">{{ time_slot }}</td>
              {% for day in days %}
                <td class="px-4 py-2 border border-gray-300">
                  {% with subjects=timetable|get_item:day %}
                    {% if subjects and forloop.counter0 < subjects|length %}
                      {{ subjects|slice:":forloop.counter0"|last }}
                    {% else %}
                      <span class="text-gray-400 italic">N/A</span>
                    {% endif %}
                  {% endwith %}
                </td>
              {% endfor %}
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}
